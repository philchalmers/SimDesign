<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the SimDesign package • SimDesign</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the SimDesign package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar- navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SimDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Catch_errors.html">Managing warning and error messages</a>
    </li>
    <li>
      <a href="../articles/Fixed_obj_fun.html">Exporting objects and functions from the workspace</a>
    </li>
    <li>
      <a href="../articles/HPC-computing.html">Distributing jobs for high-performance computing (HPC) clusters (e.g., via Slurm)</a>
    </li>
    <li>
      <a href="../articles/MultipleAnalyses.html">Multiple analysis functions</a>
    </li>
    <li>
      <a href="../articles/Parallel-computing.html">Parallel computing information</a>
    </li>
    <li>
      <a href="../articles/Saving-results.html">Saving simulation results and state</a>
    </li>
    <li>
      <a href="../articles/SimDesign-intro.html">Introduction to the SimDesign package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/philchalmers/SimDesign/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-sun"></span>


    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Light</li>
    <li class="dropdown-header">Dark</li>
    <li class="dropdown-header">Auto</li>
  </ul>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the SimDesign package</h1>
                        <h4 data-toc-skip class="author">Phil
Chalmers</h4>
            
            <h4 data-toc-skip class="date">2025-07-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/philchalmers/SimDesign/blob/main/vignettes/SimDesign-intro.Rmd" class="external-link"><code>vignettes/SimDesign-intro.Rmd</code></a></small>
      <div class="hidden name"><code>SimDesign-intro.Rmd</code></div>

    </div>

    
    
<blockquote>
<p>Seek computer programs that allow you to do the thinking. – George E.
P. Box</p>
</blockquote>
<p>Whether you are interested in evaluating the performance of a new
optimizer or estimation criteria, re-evaluating previous research claims
(e.g., ANOVA is ‘robust’ to violations of normality), want to determine
power rates for an upcoming research proposal (cf. the
<code>Spower</code> package), or simply wish to appease a strange
thought in your head about a new statistical idea you heard about,
designing Monte Carlo simulations can be incredibly rewarding and are
extremely important to those who are statistically oriented.</p>
<p>However, organizing simulations can be a challenge, particularly to
those new to the topic, where all too often investigators resort to the
inefficient and error prone strategies (e.g., the dreaded “for-loop”
strategy, <em>for</em>-ever resulting in confusing, error prone, and
simulation specific code). The package <code>SimDesign</code> is one
attempt to fix these and other issues that often arise when designing
Monte Carlo simulation experiments, while also providing a templated
setup that is designed to support many useful features that can be
useful when evaluating simulation research for novice and advanced
users.</p>
<p>Generally speaking, Monte Carlo simulations can be broken into three
major components:</p>
<ul>
<li>
<strong>generate</strong> your data from some model/probability
density function given various <strong>design</strong> conditions to be
studied (e.g., sample size, distributions, group sizes, etc),</li>
<li>
<strong>analyse</strong> the generated data using whatever
statistical analyses you are interested in (e.g.,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>-test,
ANOVA, SEMs, IRT, etc), and collect the
statistics/CIs/<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>-values/parameter
estimates you are interested in, and</li>
<li>
<strong>summarise</strong> the results after repeating the
simulations
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>R</mi><annotation encoding="application/x-tex">R</annotation></semantics></math>
number of times to obtain empirical estimates of the population’s
behavior.</li>
</ul>
<p>Each operation above represents the essential components of the
<code>SimDesign</code> package. The <strong>design</strong> component is
represented by a <code>tibble</code>-like object containing the
simulation conditions to be investigated, while
<strong>generate</strong>, <strong>analyse</strong>, and
<strong>summarise</strong> represent user-defined functions which
comprise the three steps in the simulation. Each of these components are
constructed and passed to the <code><a href="../reference/runSimulation.html">runSimulation()</a></code> function
where the simulation steps are evaluated, ultimately returning a
<code>tibble</code>-like object containing the simulation results.</p>
<div class="section level2">
<h2 id="a-general-overview">A general overview<a class="anchor" aria-label="anchor" href="#a-general-overview"></a>
</h2>
<p>After loading the <code>SimDesign</code> package, we begin by
defining the required user-constructed functions. To expedite this
process, a call to <code><a href="../reference/SimFunctions.html">SimFunctions()</a></code> can be used to create a
suitable template, where all the necessary functional arguments have
been pre-assigned and only the body of the functions need to be
modified. The documentation of each argument can be found in the
respective R help files, however the organization is conceptually
simple.</p>
<p>To begin, the following code should be copied and saved to an
external source (i.e., text) file.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://philchalmers.github.io/SimDesign/">SimDesign</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/SimFunctions.html">SimFunctions</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#-------------------------------------------------------------------</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://philchalmers.github.io/SimDesign/">SimDesign</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">Design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createDesign.html">createDesign</a></span><span class="op">(</span>factor1 <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                       factor2 <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#-------------------------------------------------------------------</span></span>
<span></span>
<span><span class="va">Generate</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">dat</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">Analyse</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">dat</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nc.html">nc</a></span><span class="op">(</span>stat1 <span class="op">=</span> <span class="cn">NaN</span>, stat2 <span class="op">=</span> <span class="cn">NaN</span><span class="op">)</span></span>
<span>    <span class="va">ret</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">Summarise</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">results</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>bias <span class="op">=</span> <span class="cn">NaN</span>, RMSE <span class="op">=</span> <span class="cn">NaN</span><span class="op">)</span></span>
<span>    <span class="va">ret</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#-------------------------------------------------------------------</span></span>
<span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runSimulation.html">runSimulation</a></span><span class="op">(</span>design<span class="op">=</span><span class="va">Design</span>, replications<span class="op">=</span><span class="fl">2</span>, generate<span class="op">=</span><span class="va">Generate</span>, </span>
<span>                     analyse<span class="op">=</span><span class="va">Analyse</span>, summarise<span class="op">=</span><span class="va">Summarise</span><span class="op">)</span></span>
<span><span class="va">res</span></span></code></pre>
<p>Alternatively, if you are lazy (read: efficient) or just don’t like
copy-and-pasting, <code><a href="../reference/SimFunctions.html">SimFunctions()</a></code> can write the output to a
file by providing a <code>filename</code> argument. The following
creates a file (<code>mysim.R</code>) containing the simulation
design/execution and required user-defined functions. For Rstudio users,
this will also automatically open up the file in a new coding
window.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">SimDesign</span><span class="fu">::</span><span class="fu"><a href="../reference/SimFunctions.html">SimFunctions</a></span><span class="op">(</span><span class="st">'mysim'</span><span class="op">)</span></span></code></pre></div>
<p>For larger simulations, you may want to use two files, and if you’d
prefer to have helpful comments included then these can be achieved with
the <code>singlefile</code> and <code>comments</code> arguments,
respectively.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/SimFunctions.html">SimFunctions</a></span><span class="op">(</span><span class="st">'mysim'</span>, singlefile <span class="op">=</span> <span class="cn">FALSE</span>, comments <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The choice of using a single file or not is entirely a matter of
preference, and will not influence the overall simulation
implementation. However, should you wish to include separate analysis or
generate functions the arguments <code>nGenerate</code> and
<code>nAnalyse</code> can be useful to compartmentalize generally
distinct portions of the code (e.g., one analyse function for fitting
and extracting components of a structural equation model, and one
analyse function for fitting and extracting information form an item
response theory model).</p>
</div>
<div class="section level2">
<h2 id="simulation-determine-estimator-efficiency">Simulation: Determine estimator efficiency<a class="anchor" aria-label="anchor" href="#simulation-determine-estimator-efficiency"></a>
</h2>
<p>As a toy example, let’s consider how the following investigation
using <code>SimDesign</code>:</p>
<p><em>Question</em>: How does trimming affect recovering the mean of a
distribution? Investigate this using different sample sizes with
Gaussian and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>
distributions. Also, demonstrate the effect of using the median to
recover the mean.</p>
<div class="section level3">
<h3 id="define-the-conditions">Define the conditions<a class="anchor" aria-label="anchor" href="#define-the-conditions"></a>
</h3>
<p>First, define the condition combinations that should be investigated.
In this case we wish to study 4 different sample sizes, and use a
symmetric and skewed distribution. The use of
<code><a href="../reference/createDesign.html">createDesign()</a></code> is required to create a completely
crossed-design for each combination (there are 8 in total).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createDesign.html">createDesign</a></span><span class="op">(</span>sample_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">120</span>, <span class="fl">240</span><span class="op">)</span>, </span>
<span>                       distribution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'norm'</span>, <span class="st">'chi'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Design</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">##   sample_size distribution</span></span>
<span><span class="co">##         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>          30 norm        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>          60 norm        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>         120 norm        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>         240 norm        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>          30 chi         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>          60 chi         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">7</span>         120 chi         </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">8</span>         240 chi</span></span></code></pre>
<p>Each row in <code>Design</code> represents a unique condition to be
studied in the simulation. In this case, the first condition to be
studied comes from row 1, where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">N=30</annotation></semantics></math>
and the distribution is from the Gaussian/normal family.</p>
</div>
<div class="section level3">
<h3 id="define-the-functions">Define the functions<a class="anchor" aria-label="anchor" href="#define-the-functions"></a>
</h3>
<p>We first start by defining the data generation functional component.
The only argument accepted by this function is <code>condition</code>,
which will always be a <em>single row from the Design data.frame
object</em>. Conditions are run sequentially from row 1 to the last row
in <code>Design</code>. It is also possible to pass a
<code>fixed_objects</code> object to the function for including fixed
sets of population parameters and other conditions, however for this
simple simulation this input is not required.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Generate</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">N</span> <span class="op">&lt;-</span> <span class="va">condition</span><span class="op">$</span><span class="va">sample_size</span></span>
<span>    <span class="va">dist</span> <span class="op">&lt;-</span> <span class="va">condition</span><span class="op">$</span><span class="va">distribution</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">dist</span> <span class="op">==</span> <span class="st">'norm'</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, mean <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span><span class="op">(</span><span class="va">dist</span> <span class="op">==</span> <span class="st">'chi'</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">rchisq</a></span><span class="op">(</span><span class="va">N</span>, df <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="va">dat</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>As we can see above, <code><a href="../reference/Generate.html">Generate()</a></code> will return a numeric
vector of length
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>
containing the data to be analysed, each with a population mean of 3
(because a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>
distribution has a mean equal to its df). Next, we define the
<code>analyse</code> component to analyse said data:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Analyse</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">dat</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">M0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>    <span class="va">M1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dat</span>, trim <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span>
<span>    <span class="va">M2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dat</span>, trim <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span></span>
<span>    <span class="va">med</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>mean_no_trim<span class="op">=</span><span class="va">M0</span>, mean_trim.1<span class="op">=</span><span class="va">M1</span>, mean_trim.2<span class="op">=</span><span class="va">M2</span>, median<span class="op">=</span><span class="va">med</span><span class="op">)</span></span>
<span>    <span class="va">ret</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>This function accepts the data previously returned from
<code><a href="../reference/Generate.html">Generate()</a></code> (<code>dat</code>), the condition vector
previously mentioned, and returns 4 named elements. Note that the
element names do not have to be constant across the row-conditions,
however it will often make conceptual sense to do so.</p>
<p>At this point, we may conceptually think of the first two functions
as being evaluated independently
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>R</mi><annotation encoding="application/x-tex">R</annotation></semantics></math>
times to obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>R</mi><annotation encoding="application/x-tex">R</annotation></semantics></math>
sets of results. In other words, if we wanted the number of replications
to be 100, the first two functions would be independently run (at least)
100 times, the results from <code><a href="../reference/Analyse.html">Analyse()</a></code> would be stored, and
we would then need to summarise these 100 elements into meaningful meta
statistics to describe their empirical properties. This is where
computing meta-statistics such as bias, root mean-square error,
detection rates, and so on are of primary importance. Unsurprisingly,
then, this is the purpose of the <code>summarise</code> component:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Summarise</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">results</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">obs_bias</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bias.html">bias</a></span><span class="op">(</span><span class="va">results</span>, parameter <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>    <span class="va">obs_RMSE</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RMSE.html">RMSE</a></span><span class="op">(</span><span class="va">results</span>, parameter <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>bias<span class="op">=</span><span class="va">obs_bias</span>, RMSE<span class="op">=</span><span class="va">obs_RMSE</span>, RE<span class="op">=</span><span class="fu"><a href="../reference/RE.html">RE</a></span><span class="op">(</span><span class="va">obs_RMSE</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">ret</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Again, <code>condition</code> is the same as was defined before,
while <code>results</code> is a <code>matrix</code> containing all the
results from <code><a href="../reference/Analyse.html">Analyse()</a></code>, where each row represents the
result returned from each respective replication, and the number of
columns is equal to the length of a single vector returned by
<code><a href="../reference/Analyse.html">Analyse()</a></code>.</p>
<p>That sounds much more complicated than it is — all you really need to
know for this simulation is that an
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>R</mi><annotation encoding="application/x-tex">R</annotation></semantics></math>
x 4 matrix called <code>results</code> is available to build a suitable
summary from. Because the results is a matrix, <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> is
useful to apply a function over each respective row. The bias and RMSE
are obtained for each respective statistic, and the overall result is
returned as a vector.</p>
<p>Stopping for a moment and thinking carefully, we know that each
<code>condition</code> will be paired with a unique vector returned from
<code><a href="../reference/Summarise.html">Summarise()</a></code>. Therefore, you might be thinking that the
result returned from the simulation will be in a rectangular form, such
as in a <code>matrix</code>, <code>data.frame</code>, or
<code>tibble</code>. Well, you’d be right!</p>
</div>
<div class="section level3">
<h3 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h3>
<p>The last stage of the <code>SimDesign</code> work-flow is to pass the
four defined elements to the <code><a href="../reference/runSimulation.html">runSimulation()</a></code> function
which, unsurprisingly given its name, runs the simulation.</p>
<p>There are numerous options available in the function, and these
should be investigated by reading the <code><a href="../reference/runSimulation.html">help(runSimulation)</a></code>
HTML file. Options for performing simulations in parallel,
storing/resuming temporary results, debugging functions, and so on are
available. Below we simply request that each condition be run 1000 times
on a single processor, and finally store the results to an object called
<code>res</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runSimulation.html">runSimulation</a></span><span class="op">(</span><span class="va">Design</span>, replications <span class="op">=</span> <span class="fl">1000</span>, generate<span class="op">=</span><span class="va">Generate</span>, </span>
<span>                         analyse<span class="op">=</span><span class="va">Analyse</span>, summarise<span class="op">=</span><span class="va">Summarise</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Design: 1/8;   Replications: 1000;   RAM Used: 72.3 Mb;   Total Time: 0.00s </span></span>
<span><span class="co">##  Conditions: sample_size=30, distribution=norm</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 2/8;   Replications: 1000;   RAM Used: 73.3 Mb;   Total Time: 0.21s </span></span>
<span><span class="co">##  Conditions: sample_size=60, distribution=norm</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 3/8;   Replications: 1000;   RAM Used: 73.3 Mb;   Total Time: 0.42s </span></span>
<span><span class="co">##  Conditions: sample_size=120, distribution=norm</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 4/8;   Replications: 1000;   RAM Used: 73.4 Mb;   Total Time: 0.63s </span></span>
<span><span class="co">##  Conditions: sample_size=240, distribution=norm</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 5/8;   Replications: 1000;   RAM Used: 73.4 Mb;   Total Time: 0.86s </span></span>
<span><span class="co">##  Conditions: sample_size=30, distribution=chi</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 6/8;   Replications: 1000;   RAM Used: 73.4 Mb;   Total Time: 1.06s </span></span>
<span><span class="co">##  Conditions: sample_size=60, distribution=chi</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 7/8;   Replications: 1000;   RAM Used: 73.5 Mb;   Total Time: 1.26s </span></span>
<span><span class="co">##  Conditions: sample_size=120, distribution=chi</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Design: 8/8;   Replications: 1000;   RAM Used: 73.5 Mb;   Total Time: 1.48s </span></span>
<span><span class="co">##  Conditions: sample_size=240, distribution=chi</span></span>
<span><span class="co">## </span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Final simulation object</span></span>
<span><span class="va">res</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 8 × 19</span></span></span>
<span><span class="co">##   sample_size distribution bias.mean_no_trim bias.mean_trim.1 bias.mean_trim.2</span></span>
<span><span class="co">##         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>          30 norm              -<span style="color: #BB0000;">0.004</span><span style="color: #BB0000; text-decoration: underline;">808</span><span style="color: #BB0000;">0</span>        -<span style="color: #BB0000;">0.004</span><span style="color: #BB0000; text-decoration: underline;">683</span><span style="color: #BB0000;">4</span>       -<span style="color: #BB0000;">0.002</span><span style="color: #BB0000; text-decoration: underline;">926</span><span style="color: #BB0000;">5</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>          60 norm               0.003<span style="text-decoration: underline;">054</span>6         0.003<span style="text-decoration: underline;">921</span>9        0.003<span style="text-decoration: underline;">108</span>0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>         120 norm               0.001<span style="text-decoration: underline;">127</span>5         0.000<span style="text-decoration: underline;">780</span>27       0.000<span style="text-decoration: underline;">572</span>27</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>         240 norm               0.000<span style="text-decoration: underline;">952</span>61        0.001<span style="text-decoration: underline;">130</span>9        0.000<span style="text-decoration: underline;">705</span>15</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>          30 chi                0.022<span style="text-decoration: underline;">222</span>         -<span style="color: #BB0000;">0.298</span><span style="color: #BB0000; text-decoration: underline;">63</span>         -<span style="color: #BB0000;">0.443</span><span style="color: #BB0000; text-decoration: underline;">55</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>          60 chi               -<span style="color: #BB0000;">0.004</span><span style="color: #BB0000; text-decoration: underline;">283</span><span style="color: #BB0000;">5</span>        -<span style="color: #BB0000;">0.346</span><span style="color: #BB0000; text-decoration: underline;">31</span>         -<span style="color: #BB0000;">0.493</span><span style="color: #BB0000; text-decoration: underline;">84</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">7</span>         120 chi               -<span style="color: #BB0000;">0.005</span><span style="color: #BB0000; text-decoration: underline;">024</span><span style="color: #BB0000;">4</span>        -<span style="color: #BB0000;">0.345</span><span style="color: #BB0000; text-decoration: underline;">66</span>         -<span style="color: #BB0000;">0.488</span><span style="color: #BB0000; text-decoration: underline;">18</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">8</span>         240 chi               -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">058</span><span style="color: #BB0000;">300</span>      -<span style="color: #BB0000;">0.346</span><span style="color: #BB0000; text-decoration: underline;">50</span>         -<span style="color: #BB0000;">0.489</span><span style="color: #BB0000; text-decoration: underline;">43</span>   </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 14 more variables: bias.median &lt;dbl&gt;, RMSE.mean_no_trim &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   RMSE.mean_trim.1 &lt;dbl&gt;, RMSE.mean_trim.2 &lt;dbl&gt;, RMSE.median &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   RE.mean_no_trim &lt;dbl&gt;, RE.mean_trim.1 &lt;dbl&gt;, RE.mean_trim.2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   RE.median &lt;dbl&gt;, REPLICATIONS &lt;dbl&gt;, SIM_TIME &lt;chr&gt;, RAM_USED &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   SEED &lt;int&gt;, COMPLETED &lt;chr&gt;</span></span></span></code></pre>
<p>If <code>runSimulation(..., store_results = TRUE)</code> were used,
which is the current default in the package if RAM is not an issue, then
the complete stored results can be viewed using</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract complete set of stored results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SimResults.html">SimResults</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="va">results</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 8,000 × 6</span></span></span>
<span><span class="co">##    sample_size distribution mean_no_trim mean_trim.1 mean_trim.2 median</span></span>
<span><span class="co">##          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>          30 norm                 3.18        3.14        3.15   3.17</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>          30 norm                 2.84        2.80        2.78   2.86</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>          30 norm                 3.29        3.21        3.14   2.95</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>          30 norm                 3.34        3.37        3.34   3.28</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>          30 norm                 2.78        2.77        2.77   2.76</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>          30 norm                 3.15        3.08        3.06   3.03</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>          30 norm                 3.03        3.00        3.00   2.99</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>          30 norm                 3.50        3.51        3.55   3.55</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>          30 norm                 2.95        2.91        2.90   2.94</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>          30 norm                 2.98        2.99        3.01   2.95</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 7,990 more rows</span></span></span></code></pre>
<p>As can be seen from the printed results from the <code>res</code>
object, each result from the <code><a href="../reference/Summarise.html">Summarise()</a></code> function has been
paired with their respective condition, meta-statistics have been
properly named, and three additional columns have been appended to the
results: <code>REPLICATIONS</code>, which indicates how many time the
conditions were performed, <code>SIM_TIME</code>, indicating the time
(in seconds) it took to completely finish the respective conditions, and
<code>SEED</code>, which indicates the random seeds used by
<code>SimDesign</code> for each condition (for reproducibility). A call
to <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">View()</a></code> in the R console may also be a nice way to sift
through the <code>res</code> object.</p>
</div>
<div class="section level3">
<h3 id="interpreting-the-results">Interpreting the results<a class="anchor" aria-label="anchor" href="#interpreting-the-results"></a>
</h3>
<p>In this case, visually inspecting the simulation table is enough to
understand what is occurring, though for other Monte Carlo simulations
use of ANOVAs, marginalized tables, and graphics should be used to
capture the essentially phenomenon in the results. Monte Carlo
simulations are just like collecting and analysing data for experiments,
so my advice would be to put on your analysis hats and present your data
as though it were data collected from the real world.</p>
<p>In this particular simulation, it is readily apparent that using the
un-adjusted mean will adequately recover the population mean with little
bias. The precision also seems to increase as sample sizes increase,
which is indicated by the decreasing RMSE statistics. Generally,
trimming causes less efficiency in the estimates, where greater amounts
of trimming results in even less efficiency, and using the median as a
proxy to estimate the mean is the least effective method. This is
witnessed rather clearly in the following table, which prints the
relative efficiency of the estimators:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">REs</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">'RE\\.'</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">Design</span>, <span class="va">REs</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   sample_size distribution RE.mean_no_trim RE.mean_trim.1 RE.mean_trim.2</span></span>
<span><span class="co">## 1          30         norm               1            1.0            1.1</span></span>
<span><span class="co">## 2          60         norm               1            1.1            1.1</span></span>
<span><span class="co">## 3         120         norm               1            1.1            1.2</span></span>
<span><span class="co">## 4         240         norm               1            1.1            1.1</span></span>
<span><span class="co">## 5          30          chi               1            1.3            1.9</span></span>
<span><span class="co">## 6          60          chi               1            2.0            3.2</span></span>
<span><span class="co">## 7         120          chi               1            3.3            5.7</span></span>
<span><span class="co">## 8         240          chi               1            5.7           10.5</span></span>
<span><span class="co">##   RE.median</span></span>
<span><span class="co">## 1       1.4</span></span>
<span><span class="co">## 2       1.6</span></span>
<span><span class="co">## 3       1.5</span></span>
<span><span class="co">## 4       1.6</span></span>
<span><span class="co">## 5       2.8</span></span>
<span><span class="co">## 6       5.1</span></span>
<span><span class="co">## 7       9.2</span></span>
<span><span class="co">## 8      17.1</span></span></code></pre>
<p>Finally, when the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>
distribution was investigated only the un-adjusted mean accurately
portrayed the population mean. This isn’t surprising, because the
trimmed mean is, after all, making inferences about the population
trimmed mean, and the median is making inferences about, well, the
median. Only when the distributions under investigation are symmetric
are the statistics able to draw inferences about the same inferences
about the mean of the population.</p>
</div>
</div>
<div class="section level2">
<h2 id="conceptual-walk-through-of-what-runsimulation-is-doing">Conceptual walk-through of what runSimulation() is doing<a class="anchor" aria-label="anchor" href="#conceptual-walk-through-of-what-runsimulation-is-doing"></a>
</h2>
<p>The following is a conceptual breakdown of what
<code><a href="../reference/runSimulation.html">runSimulation()</a></code> is actually doing behind the scenes. Here
we demonstrate the results from the first condition (row 1 of
<code>Design</code>) to show what each function returns.</p>
<p>A single replication in a Monte Carlo simulation results in the
following objects:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">condition</span> <span class="op">&lt;-</span> <span class="va">Design</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">##   sample_size distribution</span></span>
<span><span class="co">##         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>          30 norm</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Generate.html">Generate</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span></span>
<span><span class="va">dat</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] 2.37 3.18 2.16 4.60 3.33 2.18 3.49 3.74 3.58 2.69 4.51 3.39 2.38 0.79 4.12</span></span>
<span><span class="co">## [16] 2.96 2.98 3.94 3.82 3.59 3.92 3.78 3.07 1.01 3.62 2.94 2.84 1.53 2.52 3.42</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Analyse.html">Analyse</a></span><span class="op">(</span><span class="va">condition</span>, <span class="va">dat</span><span class="op">)</span></span>
<span><span class="va">res</span></span></code></pre></div>
<pre><code><span><span class="co">## mean_no_trim  mean_trim.1  mean_trim.2       median </span></span>
<span><span class="co">##          3.1          3.2          3.2          3.3</span></span></code></pre>
<p>We can see that <code><a href="../reference/Generate.html">Generate()</a></code> returns a
<code>numeric</code> vector which is accepted by <code><a href="../reference/Analyse.html">Analyse()</a></code>.
The <code><a href="../reference/Analyse.html">Analyse()</a></code> function then completes the analysis portion
using the generated data, and returns a named vector with the observed
parameter estimates. Of course, this is only a single replication, and
therefore is not really meaningful in the grand scheme of things; so, it
must be repeated a number of times.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># repeat 1000x</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1000</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Generate.html">Generate</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span></span>
<span>    <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Analyse.html">Analyse</a></span><span class="op">(</span><span class="va">condition</span>, <span class="va">dat</span><span class="op">)</span></span>
<span>    <span class="va">results</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="va">res</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      mean_no_trim mean_trim.1 mean_trim.2 median</span></span>
<span><span class="co">## [1,]          3.1         3.1         3.1    2.9</span></span>
<span><span class="co">## [2,]          3.1         3.1         3.1    3.1</span></span>
<span><span class="co">## [3,]          3.1         3.1         3.0    2.8</span></span>
<span><span class="co">## [4,]          2.7         2.6         2.6    2.7</span></span>
<span><span class="co">## [5,]          3.2         3.2         3.2    3.0</span></span>
<span><span class="co">## [6,]          3.1         3.1         3.0    3.1</span></span></code></pre>
<p>The matrix stored in <code>results</code> contains 1000 parameter
estimates returned from each statistic. After this is obtained, we can
move on to summarising the output through the <code><a href="../reference/Summarise.html">Summarise()</a></code>
function to obtain average estimates, their associated sampling error,
their efficiency, and so on.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Summarise.html">Summarise</a></span><span class="op">(</span><span class="va">condition</span>, <span class="va">results</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## bias.mean_no_trim  bias.mean_trim.1  bias.mean_trim.2       bias.median </span></span>
<span><span class="co">##           -0.0011           -0.0031           -0.0035           -0.0037 </span></span>
<span><span class="co">## RMSE.mean_no_trim  RMSE.mean_trim.1  RMSE.mean_trim.2       RMSE.median </span></span>
<span><span class="co">##            0.1739            0.1777            0.1859            0.2146 </span></span>
<span><span class="co">##   RE.mean_no_trim    RE.mean_trim.1    RE.mean_trim.2         RE.median </span></span>
<span><span class="co">##            1.0000            1.0442            1.1425            1.5225</span></span></code></pre>
<p>This process is then repeated for each row <code>condition</code> in
the <code>Design</code> object until the entire simulation study is
complete.</p>
<p>Of course, <code><a href="../reference/runSimulation.html">runSimulation()</a></code> does much more than this
conceptual outline, which is why it exists. Namely, errors and warnings
are controlled and tracked, data is re-drawn when needed, parallel
processing is supported, debugging is easier with the <code>debug</code>
input (or by inserting <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> directly), temporary and
full results can be saved to external files, the simulation state can be
saved/restored, build-in safety features are included, and more. The
point, however, is that you as the user <em>should not be bogged down
with the nitty-gritty details of setting up the simulation
work-flow/features</em>; instead, you should be focusing your time on
the important generate-analyse-summarise steps, organized in the body of
the above functions, that are required to obtain your interesting
simulation results. After all, the point designing a computer simulation
experiment is to understand the resulting output, not to become a master
of all aspects of your select computing language pertaining to object
storage, parallel processing, RAM storage, defensive coding, progress
reporting, reproducibility, post-processing, …, ad nauseam.</p>
<p>To access further examples and instructions feel free to visit the <a href="https://github.com/philchalmers/SimDesign/wiki" class="external-link">package wiki on
Github</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Phil Chalmers.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
