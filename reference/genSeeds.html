<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate random seeds — genSeeds • SimDesign</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate random seeds — genSeeds"><meta name="description" content="Generate seeds to be passed to runSimulation's seed input. Values
are sampled from 1 to 2147483647, or are generated using L'Ecuyer-CMRG's (2002)
method (returning either a list if arrayID is omitted, or the specific
row value from this list if arrayID is included)."><meta property="og:description" content="Generate seeds to be passed to runSimulation's seed input. Values
are sampled from 1 to 2147483647, or are generated using L'Ecuyer-CMRG's (2002)
method (returning either a list if arrayID is omitted, or the specific
row value from this list if arrayID is included)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SimDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.19.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Catch_errors.html">Managing warning and error messages</a></li>
    <li><a class="dropdown-item" href="../articles/Fixed_obj_fun.html">Exporting objects and functions from the workspace</a></li>
    <li><a class="dropdown-item" href="../articles/HPC-computing.html">Distributing jobs for high-performance computing (HPC) clusters (e.g., via Slurm)</a></li>
    <li><a class="dropdown-item" href="../articles/MultipleAnalyses.html">Multiple analysis functions</a></li>
    <li><a class="dropdown-item" href="../articles/Parallel-computing.html">Parallel computing information</a></li>
    <li><a class="dropdown-item" href="../articles/Saving-results.html">Saving simulation results and state</a></li>
    <li><a class="dropdown-item" href="../articles/SimDesign-intro.html">Introduction to the SimDesign package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/philchalmers/SimDesign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate random seeds</h1>
      <small class="dont-index">Source: <a href="https://github.com/philchalmers/SimDesign/blob/main/R/util.R" class="external-link"><code>R/util.R</code></a></small>
      <div class="d-none name"><code>genSeeds.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate seeds to be passed to <code>runSimulation</code>'s <code>seed</code> input. Values
are sampled from 1 to 2147483647, or are generated using L'Ecuyer-CMRG's (2002)
method (returning either a list if <code>arrayID</code> is omitted, or the specific
row value from this list if <code>arrayID</code> is included).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">genSeeds</span><span class="op">(</span>design <span class="op">=</span> <span class="fl">1L</span>, iseed <span class="op">=</span> <span class="cn">NULL</span>, arrayID <span class="op">=</span> <span class="cn">NULL</span>, old.seeds <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">gen_seeds</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-design">design<a class="anchor" aria-label="anchor" href="#arg-design"></a></dt>
<dd><p>design matrix that requires a unique seed per condition, or
a number indicating the number of seeds to generate. Default generates one
number</p></dd>


<dt id="arg-iseed">iseed<a class="anchor" aria-label="anchor" href="#arg-iseed"></a></dt>
<dd><p>the initial <code>set.seed</code> number used to generate a sequence
of independent seeds according to the L'Ecuyer-CMRG (2002) method. This
is recommended whenever quality random number generation is required
across similar (if not identical) simulation jobs
(e.g., see <code><a href="runArraySimulation.html">runArraySimulation</a></code>). If <code>arrayID</code> is not
specified then this will return a list of the associated seed for the
full <code>design</code></p></dd>


<dt id="arg-arrayid">arrayID<a class="anchor" aria-label="anchor" href="#arg-arrayid"></a></dt>
<dd><p>(optional) single integer input corresponding to the specific
row in the <code>design</code> object when using the <code>iseed</code> input.
This is used in functions such as <code><a href="runArraySimulation.html">runArraySimulation</a></code>
to pull out the specific seed rather than manage a complete list, and
is therefore more memory efficient</p></dd>


<dt id="arg-old-seeds">old.seeds<a class="anchor" aria-label="anchor" href="#arg-old-seeds"></a></dt>
<dd><p>(optional) vector or matrix of last seeds used in
previous simulations to avoid repeating the same seed on a subsequent run.
Note that this approach should be used sparingly as seeds set more frequently
are more likely to correlate, and therefore provide less optimal random
number behaviour (e.g., if performing a simulation on two runs to achieve
5000 * 2 = 10,000 replications this is likely reasonable,
but for simulations with 100 * 2 = 200 replications this is more
likely to be sub-optimal).
Length must be equal to the number of rows in <code>design</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>does nothing</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate 1 seed (default)</span></span></span>
<span class="r-in"><span><span class="fu">genSeeds</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1243352586</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate 5 unique seeds</span></span></span>
<span class="r-in"><span><span class="fu">genSeeds</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  886678571  865383938 1718793689 1802720933  413067025</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate from nrow(design)</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="createDesign.html">createDesign</a></span><span class="op">(</span>factorA<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       factorB<span class="op">=</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seeds</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seeds</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  595688410 1809449992 1887503261 1000739687 1129367556  717434384 1123050453</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8]  474408704 1310164663</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># construct new seeds that are independent from original (use this sparingly)</span></span></span>
<span class="r-in"><span><span class="va">newseeds</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="va">design</span>, old.seeds<span class="op">=</span><span class="va">seeds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">newseeds</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1607262655  390300427  731677967  298354824   27984649  225437218  746949893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] 1602927401  937942413</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can be done in batches too</span></span></span>
<span class="r-in"><span><span class="va">newseeds2</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="va">design</span>, old.seeds<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">seeds</span>, <span class="va">newseeds</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">seeds</span>, <span class="va">newseeds</span>, <span class="va">newseeds2</span><span class="op">)</span> <span class="co"># all unique</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            seeds   newseeds  newseeds2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]  595688410 1607262655  992053320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 1809449992  390300427 1416086442</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 1887503261  731677967  823141978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 1000739687  298354824 1246508874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 1129367556   27984649 1619914930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]  717434384  225437218 1610796999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 1123050453  746949893  187037883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]  474408704 1602927401 1156242821</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 1310164663  937942413 2079951069</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">############</span></span></span>
<span class="r-in"><span><span class="co"># generate seeds for runArraySimulation()</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">iseed</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>  <span class="co"># initial seed</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 65720644</span>
<span class="r-in"><span><span class="va">seed_list</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="va">design</span>, iseed<span class="op">=</span><span class="va">iseed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seed_list</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407   379889883   659117664 -2055402783  1234182958  1566802391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]  1478353964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407 -1996363988   993937887  1454248844 -1855571605  1976941944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] -1338551852</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  -711630543  1740484843  1339480259  -153618978 -1565624872</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]  1457706395</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[4]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  -103215903 -1613204698   379013845 -1130009889   244099792</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]   120529920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[5]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407    67254529  1072668082  1044634035  -767520122 -2092261128</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] -2098310082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[6]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407   520068102 -1461006084 -1895507394  1038491043   168622900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] -1147596130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[7]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  1582176084  -312633288 -1779753696 -1577380533 -1192542975</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]   626958622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[8]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  1481948650 -1459016231 -1192828505   957288152   959321237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]   791951982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[9]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  -249485550 -1214357330 -2043404912  1753729054  -154685538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]  1051389303</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"iseed")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 65720644</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># expand number of unique seeds given iseed (e.g., in case more replications</span></span></span>
<span class="r-in"><span><span class="co"># are required at a later date)</span></span></span>
<span class="r-in"><span><span class="va">seed_list_tmp</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span>, iseed<span class="op">=</span><span class="va">iseed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">seed_list_tmp</span><span class="op">)</span> <span class="co"># first 9 seeds identical to seed_list</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 379889883 659117664 -2055402783 1234182958 1566802391 1478353964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -1996363988 993937887 1454248844 -1855571605 1976941944 -1338551852</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -711630543 1740484843 1339480259 -153618978 -1565624872 1457706395</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -103215903 -1613204698 379013845 -1130009889 244099792 120529920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 67254529 1072668082 1044634035 -767520122 -2092261128 -2098310082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 520068102 -1461006084 -1895507394 1038491043 168622900 -1147596130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 1582176084 -312633288 -1779753696 -1577380533 -1192542975 626958622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 1481948650 -1459016231 -1192828505 957288152 959321237 791951982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -249485550 -1214357330 -2043404912 1753729054 -154685538 1051389303</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 835808458 196552927 2117642140 149314186 338790750 1112575824</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -1450304404 -2045409317 -179263388 -889219308 1191986309 -566625213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -688910850 1160691062 956749691 -422978313 2137821656 -29065073</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 1786743736 -1039513504 224186150 1629560031 503129039 1663133997</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 790977206 -2137758289 -566189168 229908201 -1823406113 -2016953102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -842368572 -658180239 -1250210600 1910856618 1975438294 2111869219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -1304052592 -41233767 800361080 -1382067640 -1349055971 2091568457</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 -450434814 307478060 1866031563 874517892 -825396283 2097801285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ : int [1:7] 10407 109698022 -156901408 144592825 2009040097 -1489056783 -200703622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "iseed")= int 65720644</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># more usefully for HPC, extract only the seed associated with an arrayID</span></span></span>
<span class="r-in"><span><span class="va">arraySeed.15</span> <span class="op">&lt;-</span> <span class="fu">genSeeds</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span>, iseed<span class="op">=</span><span class="va">iseed</span>, arrayID<span class="op">=</span><span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">arraySeed.15</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]       10407  -842368572  -658180239 -1250210600  1910856618  1975438294</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]  2111869219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"arrayID")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"iseed")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 65720644</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Phil Chalmers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

