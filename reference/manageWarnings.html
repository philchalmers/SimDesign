<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Manage specific warning messages — manageWarnings • SimDesign</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manage specific warning messages — manageWarnings"><meta name="description" content="Function provides more nuanced management of known warning
messages that appear in function calls outside the front-end users control
(e.g., functions written in third-party packages). Specifically,
this function provides a less nuclear approach than
suppressWarnings, which suppresses all warning messages
rather than those which are known
to be innocuous to the current application, or when globally setting options(warn=2),
which has the opposite effect of treating all warnings messages as errors
in the function executions. To avoid these two extreme behaviors,
character vectors can instead be supplied to this function
to either leave the raised warnings
as-is (default behaviour), raise only specific warning messages to errors,
or specify specific warning messages that can be generally be ignored
(and therefore suppressed) while allowing new or yet to be discovered warnings
to still be raised."><meta property="og:description" content="Function provides more nuanced management of known warning
messages that appear in function calls outside the front-end users control
(e.g., functions written in third-party packages). Specifically,
this function provides a less nuclear approach than
suppressWarnings, which suppresses all warning messages
rather than those which are known
to be innocuous to the current application, or when globally setting options(warn=2),
which has the opposite effect of treating all warnings messages as errors
in the function executions. To avoid these two extreme behaviors,
character vectors can instead be supplied to this function
to either leave the raised warnings
as-is (default behaviour), raise only specific warning messages to errors,
or specify specific warning messages that can be generally be ignored
(and therefore suppressed) while allowing new or yet to be discovered warnings
to still be raised."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SimDesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.19.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Catch_errors.html">Managing warning and error messages</a></li>
    <li><a class="dropdown-item" href="../articles/Fixed_obj_fun.html">Exporting objects and functions from the workspace</a></li>
    <li><a class="dropdown-item" href="../articles/HPC-computing.html">Distributing jobs for high-performance computing (HPC) clusters (e.g., via Slurm)</a></li>
    <li><a class="dropdown-item" href="../articles/MultipleAnalyses.html">Multiple analysis functions</a></li>
    <li><a class="dropdown-item" href="../articles/Parallel-computing.html">Parallel computing information</a></li>
    <li><a class="dropdown-item" href="../articles/Saving-results.html">Saving simulation results and state</a></li>
    <li><a class="dropdown-item" href="../articles/SimDesign-intro.html">Introduction to the SimDesign package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/philchalmers/SimDesign/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Manage specific warning messages</h1>
      <small class="dont-index">Source: <a href="https://github.com/philchalmers/SimDesign/blob/main/R/manageWarnings.R" class="external-link"><code>R/manageWarnings.R</code></a></small>
      <div class="d-none name"><code>manageWarnings.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function provides more nuanced management of known warning
messages that appear in function calls outside the front-end users control
(e.g., functions written in third-party packages). Specifically,
this function provides a less nuclear approach than
<code><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></code>, which suppresses all warning messages
rather than those which are known
to be innocuous to the current application, or when globally setting <code>options(warn=2)</code>,
which has the opposite effect of treating all warnings messages as errors
in the function executions. To avoid these two extreme behaviors,
<code>character</code> vectors can instead be supplied to this function
to either leave the raised warnings
as-is (default behaviour), raise only specific warning messages to errors,
or specify specific warning messages that can be generally be ignored
(and therefore suppressed) while allowing new or yet to be discovered warnings
to still be raised.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">manageWarnings</span><span class="op">(</span><span class="va">expr</span>, warning2error <span class="op">=</span> <span class="cn">FALSE</span>, suppress <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-expr">expr<a class="anchor" aria-label="anchor" href="#arg-expr"></a></dt>
<dd><p>expression to be evaluated (e.g., ret &lt;- <code>myfun(args)</code>).
Function should either be used as a wrapper,
such as <code>manageWarnings(ret &lt;- myfun(args), ...)</code> or
<code>ret &lt;- manageWarnings(myfun(args), ...)</code>, or more
readably as a pipe, <code>ret &lt;- myfun(args) |&gt; manageWarnings(...)</code></p></dd>


<dt id="arg-warning-error">warning2error<a class="anchor" aria-label="anchor" href="#arg-warning-error"></a></dt>
<dd><p><code>logical</code> or <code>character</code> vector to control the
  conversion of warnings to errors. Setting this input to <code>TRUE</code> will treat
  all observed warning messages as errors (same behavior as <code>options(warn=2)</code>,
  though defined on a per expression basis rather than globally),
  while setting to <code>FALSE</code> (default) will leave all warning messages as-is,
  retaining the default behavior</p>
<p>Alternatively, and more useful for specificity reasons,
  input can be a <code>character</code> vector containing known-to-be-severe
  warning messages that should be converted to errors. Each supplied
  <code>character</code> vector element is matched using a <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></code> expression,
  so partial matching is supported (though more specific messages are less
  likely to throw false positives).</p></dd>


<dt id="arg-suppress">suppress<a class="anchor" aria-label="anchor" href="#arg-suppress"></a></dt>
<dd><p>a <code>character</code> vector indicating warning messages that
are known to be innocuous a priori and can therefore be suppressed.
Each supplied warning message is
matched using a <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></code> expression, so partial matching
is supported (though more specific messages are less likely to throw
false positives). If <code>NULL</code>, no warning message will be suppressed</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>returns the original result of <code>eval(expr)</code>, with warning
 messages either left the same, increased to errors, or suppressed (depending
 on the input specifications)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In general, global/nuclear behaviour of warning messages should be avoided
as they are generally bad practice. On one extreme,
when suppressing all warning messages using <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></code>,
potentially important warning messages will become muffled, which can be problematic
if the code developer has not become aware of these (now muffled) warnings.
Moreover, this can become a long-term sustainability issue when third-party functions
that the developer's code depends upon throw new warnings in the future as the
code developer will be less likely to become aware of these newly implemented warnings.</p>
<p>On the other extreme, where all warning messages are turned into errors
using <code>options(warn=2)</code>, innocuous warning messages can and will be (unwantingly)
raised to an error. This negatively affects the logical workflow of the
developer's functions, where more error messages must now be manually managed
(e.g., via <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></code>), including the known to be innocuous
warning messages as these will now considered as errors.</p>
<p>To avoid these extremes, front-end users should first make note of the warning messages
that have been raised in their prior executions, and organized these messages
into vectors of ignorable warnings (least severe), known/unknown warnings
that should remain as warnings (even if not known by the code developer yet),
and explicit warnings that ought to be considered errors for the current
application (most severe). Once collected, these can be passed to the respective
<code>warning2error</code> argument to increase the intensity of a specific warning
raised, or to the <code>suppress</code> argument to suppress only the messages that
have been deemed ignorable a priori (and therefore allowing all other warning
messages to be raised).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chalmers, R. P., &amp; Adkins, M. C.  (2020). Writing Effective and Reliable Monte Carlo Simulations
with the SimDesign Package. <code>The Quantitative Methods for Psychology, 16</code>(4), 248-280.
<a href="https://doi.org/10.20982/tqmp.16.4.p248" class="external-link">doi:10.20982/tqmp.16.4.p248</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="manageMessages.html">manageMessages</a></code>, <code><a href="quiet.html">quiet</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">warn1</span><span class="op">=</span><span class="cn">FALSE</span>, <span class="va">warn2</span><span class="op">=</span><span class="cn">FALSE</span>, <span class="va">warn3</span><span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                <span class="va">warn_trailing</span> <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">error</span><span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn1</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn2</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message two'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn3</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message three'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn_trailing</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'Message with lots of random trailings: %s'</span>,</span></span>
<span class="r-in"><span>                             <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, collapse<span class="op">=</span><span class="st">','</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">error</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'terminate function call'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">'Returned from fun()'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># normal run (no warnings or errors)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># these are all the same</span></span></span>
<span class="r-in"><span><span class="fu">manageWarnings</span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="fu">fun</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># errors treated normally</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>error<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>error<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all warnings/returns treated normally by default</span></span></span>
<span class="r-in"><span><span class="va">ret1</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ret2</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">ret1</span>, <span class="va">ret2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all warnings converted to errors (similar to options(warn=2), but local)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span>warning2error<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span>warning2error<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specific warnings treated as errors (others stay as warnings)</span></span></span>
<span class="r-in"><span><span class="co"># Here, treat first warning message as error but not the second or third</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># warning</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="st">"Message one"</span><span class="op">)</span>  <span class="co"># now error</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="st">"Message one"</span><span class="op">)</span>  <span class="co"># still a warning</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple warnings raised but not converted as they do not match criteria</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span>, warn3<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span>, warn3<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span><span class="st">"Message one"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Explicitly convert multiple warning messages, allowing others through.</span></span></span>
<span class="r-in"><span><span class="co">#   This is generally the best use of the function's specificity</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span>, warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span>   <span class="co"># error given either message</span></span></span>
<span class="r-in"><span>        <span class="fu">manageWarnings</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Message one"</span>, <span class="st">"Message two"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>       <span class="fu">manageWarnings</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Message one"</span>, <span class="st">"Message two"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># last warning gets through (left as valid warning)</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn3<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>            <span class="fu">manageWarnings</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Message one"</span>, <span class="st">"Message two"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ret</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># suppress warnings that have only partial matching</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># partial match, therefore suppressed</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>suppress<span class="op">=</span><span class="st">"Message with lots of random trailings: "</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple suppress strings</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>suppress<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Message with lots of random trailings: "</span>,</span></span>
<span class="r-in"><span>                           <span class="st">"Suppress this too"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># could also use .* to catch all remaining characters (finer regex control)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn_trailing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>suppress<span class="op">=</span><span class="st">"Message with lots of random trailings: .*"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###########</span></span></span>
<span class="r-in"><span><span class="co"># Combine with quiet() and suppress argument to suppress innocuous messages</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">warn1</span><span class="op">=</span><span class="cn">FALSE</span>, <span class="va">warn2</span><span class="op">=</span><span class="cn">FALSE</span>, <span class="va">warn3</span><span class="op">=</span><span class="cn">FALSE</span>, <span class="va">error</span><span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">'This function is rather chatty'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"It even prints in different output forms!\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn1</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn2</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message two'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">warn3</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">'Message three'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span><span class="op">(</span><span class="va">error</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'terminate function call'</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">'Returned from fun()'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># normal run (no warnings or errors, but messages)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="fu">fun</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># using "indoor voice"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># suppress all print messages and warnings (not recommended)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert all warning to errors, and keep suppressing messages via quiet()</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">manageWarnings</span><span class="op">(</span>warning2error<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define tolerable warning messages (only warn1 deemed ignorable)</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>suppress <span class="op">=</span> <span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># all other warnings raised to an error except ignorable ones</span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span>, warn2<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>warning2error<span class="op">=</span><span class="cn">TRUE</span>, suppress <span class="op">=</span> <span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only warn2 raised to an error explicitly (warn3 remains as warning)</span></span></span>
<span class="r-in"><span><span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span>, warn3<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>warning2error <span class="op">=</span> <span class="st">'Message two'</span>,</span></span>
<span class="r-in"><span>                 suppress <span class="op">=</span> <span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">fun</span><span class="op">(</span>warn1<span class="op">=</span><span class="cn">TRUE</span>, warn2 <span class="op">=</span> <span class="cn">TRUE</span>, warn3<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="quiet.html">quiet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">manageWarnings</span><span class="op">(</span>warning2error <span class="op">=</span> <span class="st">'Message two'</span>,</span></span>
<span class="r-in"><span>                 suppress <span class="op">=</span> <span class="st">'Message one'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###########################</span></span></span>
<span class="r-in"><span><span class="co"># Practical example, converting warning into error for model that</span></span></span>
<span class="r-in"><span><span class="co"># failed to converged normally</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The industrialization and Political Democracy Example</span></span></span>
<span class="r-in"><span><span class="co">## Bollen (1989), page 332</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">'</span></span></span>
<span class="r-in"><span><span class="st">  # latent variable definitions</span></span></span>
<span class="r-in"><span><span class="st">     ind60 =~ x1 + x2 + x3</span></span></span>
<span class="r-in"><span><span class="st">     dem60 =~ y1 + a*y2 + b*y3 + c*y4</span></span></span>
<span class="r-in"><span><span class="st">     dem65 =~ y5 + a*y6 + b*y7 + c*y8</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  # regressions</span></span></span>
<span class="r-in"><span><span class="st">    dem60 ~ ind60</span></span></span>
<span class="r-in"><span><span class="st">    dem65 ~ ind60 + dem60</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  # residual correlations</span></span></span>
<span class="r-in"><span><span class="st">    y1 ~~ y5</span></span></span>
<span class="r-in"><span><span class="st">    y2 ~~ y4 + y6</span></span></span>
<span class="r-in"><span><span class="st">    y3 ~~ y7</span></span></span>
<span class="r-in"><span><span class="st">    y4 ~~ y8</span></span></span>
<span class="r-in"><span><span class="st">    y6 ~~ y8</span></span></span>
<span class="r-in"><span><span class="st">'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># throws a warning</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">sem</span><span class="op">(</span><span class="va">model</span>, data <span class="op">=</span> <span class="va">PoliticalDemocracy</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>iter.max<span class="op">=</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for a simulation study, often better to treat this as an error</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">sem</span><span class="op">(</span><span class="va">model</span>, data <span class="op">=</span> <span class="va">PoliticalDemocracy</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>iter.max<span class="op">=</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">manageWarnings</span><span class="op">(</span>warning2error <span class="op">=</span> <span class="st">"the optimizer warns that a solution has NOT been found!"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Phil Chalmers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

