<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Collapse separate simulation files into a single result — SimCollect • SimDesign</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Collapse separate simulation files into a single result — SimCollect"><meta property="og:description" content="This function collects and aggregates the results from
SimDesign's runSimulation into a single
objects suitable for post-analyses, or combines all the saved results directories and combines
them into one. This is useful when results are run piece-wise on one node (e.g., 500 replications
in one batch, 500 again at a later date, though be careful about the set.seed
use as the random numbers will tend to correlate the more it is used) or run independently across different
nodes/computing cores (e.g., see runArraySimulation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar- navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SimDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.19.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Catch_errors.html">Managing warning and error messages</a>
    </li>
    <li>
      <a href="../articles/Fixed_obj_fun.html">Exporting objects and functions from the workspace</a>
    </li>
    <li>
      <a href="../articles/HPC-computing.html">Distributing jobs for high-performance computing (HPC) clusters (e.g., via Slurm)</a>
    </li>
    <li>
      <a href="../articles/MultipleAnalyses.html">Multiple analysis functions</a>
    </li>
    <li>
      <a href="../articles/Parallel-computing.html">Parallel computing information</a>
    </li>
    <li>
      <a href="../articles/Saving-results.html">Saving simulation results and state</a>
    </li>
    <li>
      <a href="../articles/SimDesign-intro.html">Introduction to the SimDesign package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/philchalmers/SimDesign/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-sun"></span>


    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Light</li>
    <li class="dropdown-header">Dark</li>
    <li class="dropdown-header">Auto</li>
  </ul></li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collapse separate simulation files into a single result</h1>
    <small class="dont-index">Source: <a href="https://github.com/philchalmers/SimDesign/blob/main/R/SimCollect.R" class="external-link"><code>R/SimCollect.R</code></a></small>
    <div class="hidden name"><code>SimCollect.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function collects and aggregates the results from
<code>SimDesign</code>'s <code><a href="runSimulation.html">runSimulation</a></code> into a single
objects suitable for post-analyses, or combines all the saved results directories and combines
them into one. This is useful when results are run piece-wise on one node (e.g., 500 replications
in one batch, 500 again at a later date, though be careful about the <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></code>
use as the random numbers will tend to correlate the more it is used) or run independently across different
nodes/computing cores (e.g., see <code><a href="runArraySimulation.html">runArraySimulation</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">SimCollect</span><span class="op">(</span></span>
<span>  dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  files <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  check.only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  target.reps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  warning_details <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  error_details <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  gc <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">aggregate_simulations</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>a <code>character</code> vector pointing to the directory name containing the <code>.rds</code> files.
All <code>.rds</code> files in this directory will be used after first checking
their status with <code><a href="SimCheck.html">SimCheck</a></code>. For greater specificity use the
<code>files</code> argument</p></dd>


<dt id="arg-files">files<a class="anchor" aria-label="anchor" href="#arg-files"></a></dt>
<dd><p>a <code>character</code> vector containing the names of the simulation's final <code>.rds</code> files.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>(optional) name of .rds file to save aggregate simulation file to. If not specified
then the results will only be returned in the R console.</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>a character vector indicating columns to variables to select from the
<code>SimExtract(what='results')</code> information. This is mainly useful when RAM is an issue
given simulations with many stored estimates. Default includes the results objects
in their entirety, though to omit all internally stored simulation results pass the
character <code>'NONE'</code>. To investigate the stored warnings and error messages in isolation
pass <code>'WARNINGS'</code> or <code>'ERRORS'</code>, respectively</p></dd>


<dt id="arg-check-only">check.only<a class="anchor" aria-label="anchor" href="#arg-check-only"></a></dt>
<dd><p>logical; for larger simulations file sets, such as those generated by
<code><a href="runArraySimulation.html">runArraySimulation</a></code>, return the design conditions that do no satisfy the
<code>target.reps</code> and throw warning if files are unexpectedly missing (the latter
criterion is reported from <code><a href="SimCheck.html">SimCheck</a></code>, which can be used to obtain the
conditions associated with the missing files)</p></dd>


<dt id="arg-target-reps">target.reps<a class="anchor" aria-label="anchor" href="#arg-target-reps"></a></dt>
<dd><p>(optional) number of replications to check against to evaluate whether
the simulation files returned the desired number of replications. If missing, the highest
detected value from the collected set of replication information will be used</p></dd>


<dt id="arg-warning-details">warning_details<a class="anchor" aria-label="anchor" href="#arg-warning-details"></a></dt>
<dd><p>logical; include the aggregate of the warnings to be extracted via
<code><a href="SimExtract.html">SimExtract</a></code>?</p></dd>


<dt id="arg-error-details">error_details<a class="anchor" aria-label="anchor" href="#arg-error-details"></a></dt>
<dd><p>logical; include the aggregate of the errors to be extracted via
<code><a href="SimExtract.html">SimExtract</a></code>?</p></dd>


<dt id="arg-gc">gc<a class="anchor" aria-label="anchor" href="#arg-gc"></a></dt>
<dd><p>logical; explicitly call R's garbage collector <code><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></code>? May help when
memory is severely constrained during the file read-ins. Otherwise, the <code>select</code>
argument should be used to take more memory-friendly subsets</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>not used</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>returns a <code>data.frame/tibble</code> with the (weighted) average/aggregate
  of the simulation results</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Chalmers, R. P., &amp; Adkins, M. C.  (2020). Writing Effective and Reliable Monte Carlo Simulations
with the SimDesign Package. <code>The Quantitative Methods for Psychology, 16</code>(4), 248-280.
<a href="https://doi.org/10.20982/tqmp.16.4.p248" class="external-link">doi:10.20982/tqmp.16.4.p248</a></p>
<p>Sigal, M. J., &amp; Chalmers, R. P. (2016). Play it again: Teaching statistics with Monte
Carlo simulation. <code>Journal of Statistics Education, 24</code>(3), 136-156.
<a href="https://doi.org/10.1080/10691898.2016.1246953" class="external-link">doi:10.1080/10691898.2016.1246953</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="runSimulation.html">runSimulation</a></code>, <code><a href="runArraySimulation.html">runArraySimulation</a></code>,
  <code><a href="SimCheck.html">SimCheck</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">'my_working_directory'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## run simulations to save the .rds files (or move them to the working directory)</span></span></span>
<span class="r-in"><span><span class="co"># seeds1 &lt;- genSeeds(design)</span></span></span>
<span class="r-in"><span><span class="co"># seeds2 &lt;- genSeeds(design, old.seeds=seeds1)</span></span></span>
<span class="r-in"><span><span class="co"># ret1 &lt;- runSimulation(design, ..., seed=seeds1, filename='file1')</span></span></span>
<span class="r-in"><span><span class="co"># ret2 &lt;- runSimulation(design, ..., seed=seeds2, filename='file2')</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># saves to the hard-drive and stores in workspace</span></span></span>
<span class="r-in"><span><span class="va">final</span> <span class="op">&lt;-</span> <span class="fu">SimCollect</span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'file1.rds'</span>, <span class="st">'file2.rds'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">final</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If filename not included, can be extracted from results</span></span></span>
<span class="r-in"><span><span class="co"># files &lt;- c(SimExtract(ret1, 'filename'), SimExtract(ret2, 'filename'))</span></span></span>
<span class="r-in"><span><span class="co"># final &lt;- SimCollect(files = files)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#################################################</span></span></span>
<span class="r-in"><span><span class="co"># Example where each row condition is repeated, evaluated independently,</span></span></span>
<span class="r-in"><span><span class="co"># and later collapsed into a single analysis object</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Each condition repeated four times (hence, replications</span></span></span>
<span class="r-in"><span><span class="co"># should be set to desired.reps/4)</span></span></span>
<span class="r-in"><span><span class="va">Design</span> <span class="op">&lt;-</span> <span class="fu"><a href="createDesign.html">createDesign</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       N  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Design</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># assume the N=60 takes longer, and should be spread out across more arrays</span></span></span>
<span class="r-in"><span><span class="va">Design_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="expandDesign.html">expandDesign</a></span><span class="op">(</span><span class="va">Design</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Design_long</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">replications</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">25</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">Design_long</span>, <span class="va">replications</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Generate</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">condition</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span>, mean<span class="op">=</span><span class="va">mu</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">dat</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Analyse</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">dat</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, SD<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ret</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Summarise</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">condition</span>, <span class="va">results</span>, <span class="va">fixed_objects</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">ret</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create directory to store all final simulation files</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="st">'sim_files/'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">iseed</span> <span class="op">&lt;-</span> <span class="fu"><a href="genSeeds.html">genSeeds</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># distribute jobs independently</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Design_long</span><span class="op">)</span>, \<span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="runArraySimulation.html">runArraySimulation</a></span><span class="op">(</span>design<span class="op">=</span><span class="va">Design_long</span>, replications<span class="op">=</span><span class="va">replications</span>,</span></span>
<span class="r-in"><span>                generate<span class="op">=</span><span class="va">Generate</span>, analyse<span class="op">=</span><span class="va">Analyse</span>, summarise<span class="op">=</span><span class="va">Summarise</span>,</span></span>
<span class="r-in"><span>                arrayID<span class="op">=</span><span class="va">i</span>, dirname<span class="op">=</span><span class="st">'sim_files/'</span>, filename<span class="op">=</span><span class="st">'job'</span>, iseed<span class="op">=</span><span class="va">iseed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check for any missed files</span></span></span>
<span class="r-in"><span><span class="fu"><a href="SimCheck.html">SimCheck</a></span><span class="op">(</span>dir<span class="op">=</span><span class="st">'sim_files/'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check that all replications satisfy target</span></span></span>
<span class="r-in"><span><span class="fu">SimCollect</span><span class="op">(</span><span class="st">'sim_files/'</span>, check.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify files explicitly</span></span></span>
<span class="r-in"><span><span class="fu">SimCollect</span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path<span class="op">=</span><span class="st">'sim_files/'</span>, pattern<span class="op">=</span><span class="st">"*.rds"</span>, full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   check.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># this would have been returned were the target.rep supposed to be 1000</span></span></span>
<span class="r-in"><span><span class="fu">SimCollect</span><span class="op">(</span><span class="st">'sim_files/'</span>, check.only <span class="op">=</span> <span class="cn">TRUE</span>, target.reps<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># aggregate into single object</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">SimCollect</span><span class="op">(</span><span class="st">'sim_files/'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># view list of error messages (if there were any raised)</span></span></span>
<span class="r-in"><span><span class="fu">SimCollect</span><span class="op">(</span><span class="st">'sim_files/'</span>, select <span class="op">=</span> <span class="st">'ERRORS'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="SimClean.html">SimClean</a></span><span class="op">(</span>dir<span class="op">=</span><span class="st">'sim_files/'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Phil Chalmers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

